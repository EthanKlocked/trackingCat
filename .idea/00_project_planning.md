# 00. 프로젝트 기획 전체 문서

**작성일:** 2025-10-01

---

## 🐱 산책하는 고양이 (Pet-Walk Timer) 프로젝트 상세 기획서

### 1. 프로젝트 비전 및 핵심 가치

| 항목 | 상세 내용 |
| :--- | :--- |
| **제품 비전** | **단순한 타이머를 넘어, 집중과 휴식의 순간을 공유하는 감성적인 '동반자 앱'을 만듭니다.** 고양이와의 유대감을 통해 사용자가 습관을 형성하고 성취감을 느끼게 하는 것이 목표입니다. |
| **핵심 가치** | 1. **감성적인 동기 부여:** 귀여운 고양이의 애니메이션을 통해 **죄책감 없는 휴식**과 **즐거운 집중** 경험 제공. |
| | 2. **명확한 구분:** **산책 시간(Work)**과 **캠핑 시간(Rest)**을 명확히 분리하여 생산성 데이터를 직관적으로 기록. |
| **차별점** | 단순한 체크리스트가 아닌, **AI 기반의 개인화된 상호작용** 및 성장에 대한 **시각적 보상(코스 개척, 고양이 컬렉션)** 제공. |

---

### 2. 핵심 기능 및 MVP 범위 (Phase 1)

**목표:** **백엔드 없이 로컬 저장소만으로** 핵심 사용자 경험(UX)을 완벽하게 검증합니다.

#### A. 핵심 기능 흐름 (타이머 엔진)

| 상태 | 사용자 상호작용 | 시스템 반응 (애니메이션/UI) | 데이터 처리 (로컬) |
| :--- | :--- | :--- | :--- |
| **활동 시작** | '산책 시작' 탭 | 고양이 **산책 애니메이션 시작** (배경 흐름) | **`산책 시간` 측정 시작** |
| **일시 정지** | '잠깐 쉼' 탭 또는 화면 탭 | 고양이 **캠핑 애니메이션** (멈춤, 텐트, 불) 시작 | `산책 시간` 정지, **`휴식 시간` 측정 시작** |
| **재개** | '산책 재개' 탭 | 산책 애니메이션 재개 | `휴식 시간` 정지, `산책 시간` 측정 재개 |
| **종료** | '산책 완료' 탭 | 세션 종료, 최종 결과 화면 표시 | `총 산책/휴식 시간`을 로컬 DB에 **Session 레코드**로 저장 |
| **복원 (상태 유지)** | 앱 강제 종료 또는 백그라운드 후 재실행 | 마지막 상태(산책 중 또는 휴식 중)를 정확히 복원 | **Always On-Resume:** 로컬 DB에서 상태 읽어와 타이머 재시작 |

#### B. MVP 디자인 및 기술 요구사항

* **디자인 유연성 확보:** 초기 UI/UX 요소(색상, 폰트, 간격, 애니메이션 자산)는 모두 **스타일 변수와 분리된 파일**로 관리하여, 사용자 피드백에 따라 **코드 수정 없이** 빠르게 디자인을 변경할 수 있도록 준비해야 합니다.
* **애니메이션/아트:** 최소 **1종의 고양이** 및 **1종의 배경 코스**에 대한 부드러운 산책 및 캠핑 애니메이션 구현.

---

### 3. 아키텍처 및 확장 전략 (기술 설계)

#### A. 3계층 아키텍처 설계 원칙 (확장성)

백엔드 유무와 상관없이 코드의 유연성을 확보하기 위해 **클린 아키텍처**를 적용합니다.

| 계층 | 역할 및 책임 | 백엔드 확장 시 변화 |
| :--- | :--- | :--- |
| **1. Presentation Layer** | UI 렌더링, 이벤트 처리 (React Native/Expo) | **없음.** 로그인/UI/UX 변화 외에는 유지 |
| **2. Domain/Logic Layer** | 타이머 작동, 시간 계산, AI 분석 요청, Repository 호출 | **없음.** 앱의 핵심 규칙은 변경되지 않음 |
| **3. Data Layer (핵심)** | **데이터 저장 및 관리 인터페이스** 정의 | **구현체만 교체.** `LocalDataRepository` → `ServerDataRepository`로 전환 |

#### B. 백엔드/AI 확장 로드맵

| 기능 | 목표 | 기술적 구현 방안 |
| :--- | :--- | :--- |
| **클라우드 데이터 (Phase 3)** | **로그인 기반의 데이터 안전 확보** | **BaaS (Firebase/Supabase)**를 도입하여, `ServerDataRepository` 구현체를 통해 세션 기록, 고양이 컬렉션 등을 클라우드 DB에 저장 |
| **AI 커뮤니케이션 (Phase 3)** | **개인화된 대화 및 이벤트 생성** | **Serverless Functions** (Firebase Cloud Functions 등)를 활용하여 **LLM API** (Gemini 등) 호출. **클라이언트가 직접 AI API를 호출하지 않도록 보안 확보.** |
| **확장 콘텐츠** | **고양이, 코스, 아이템 컬렉션** | **DB 스키마에 `Cat`, `Course`, `Item` 등의 모델을 미리 정의.** MVP에서는 로컬 JSON 파일로 관리하다가, Phase 3에서 DB 테이블로 마이그레이션 |

#### C. 데이터 모델 초기 설계 (미래 대비)

MVP 단계에서는 사용하지 않더라도, 백엔드 마이그레이션을 쉽게 하기 위해 미래의 필드를 미리 정의해 둡니다.

* **Session Model:** `sessionId`, **`walkDuration`**, **`restDuration`**, `date`, `userId (추후 추가)`, `catId (추후 추가)`, `courseId (추후 추가)`
* **User Model (Phase 3):** `userId`, `email`, `currentCatId`, `totalWalkTime`, `achievements`

---

### 4. 최종 확인 사항

1.  **Repository 분리 철저:** 데이터 계층을 Domain Layer로부터 완벽하게 분리하여, Phase 3에서 서버로 전환할 때 오직 Data Layer의 구현체만 수정되도록 **코드 일관성**을 유지해야 합니다.
2.  **AI 로직은 서버로:** AI와 관련된 모든 데이터 분석 및 LLM 호출 로직은 클라이언트가 아닌 **백엔드(Serverless)**에서 처리되어야 합니다.
3.  **애니메이션 퍼포먼스:** Expo 기반에서 **부드러운 애니메이션(60 FPS)**이 핵심입니다. 특히 배경이 이동하는 산책 모드와 캠핑 모드 전환 시의 애니메이션 품질을 최우선으로 확보해야 합니다.

---

### 5. 기술 스택

**MVP Phase 1 (로컬 전용)**
- **프레임워크:** React Native + Expo SDK ~54.0
- **언어:** TypeScript 5.9+
- **로컬 저장소:** AsyncStorage
- **애니메이션:** React Native Animated API / Reanimated (필요시)
- **아키텍처:** Clean Architecture (Presentation - Domain - Data)

**Phase 3 (백엔드 확장)**
- **BaaS:** Firebase / Supabase
- **AI:** Gemini API (via Cloud Functions)
- **인증:** Firebase Auth
